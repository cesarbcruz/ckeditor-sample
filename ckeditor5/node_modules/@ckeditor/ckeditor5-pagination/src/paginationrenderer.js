/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4844=['ck-pagination_disabled','BODY','init','scroll','auto','top','document','plugins','destroy','_resizeObserver','_scrollableEditingRootDomAncestor','set','editing','offset','smooth','tagName','bottom','editor','addClass','change:isEnabled','window','overflowY','excludeScrollbarsAndBorders','resize','getComputedStyle','pageNumber','pageBreaks','_updatePageBreakLines','width','once','scrollToPage','view','isEnabled','get','pluginName','ready','listenTo','parentElement','scrollTop','getDomRoot','length','_linesRepository','scrollLeft','_getPageBreakLineOffset','PaginationRenderer','update'];(function(_0x2919af,_0x4844b1){const _0x4dc444=function(_0xee3abe){while(--_0xee3abe){_0x2919af['push'](_0x2919af['shift']());}};_0x4dc444(++_0x4844b1);}(_0x4844,0x110));const _0x4dc4=function(_0x2919af,_0x4844b1){_0x2919af=_0x2919af-0x0;let _0x4dc444=_0x4844[_0x2919af];return _0x4dc444;};import{Plugin as _0x2eb443}from'ckeditor5/src/core';import _0x4a9fef from'./ui/linesrepository';import{Rect as _0x3e9df0,global as _0xad5d82,ResizeObserver as _0x30464b}from'ckeditor5/src/utils';export default class l extends _0x2eb443{static get[_0x4dc4('0x26')](){return _0x4dc4('0x2');}[_0x4dc4('0x6')](){this[_0x4dc4('0xf')]({'pageNumber':0x1}),this[_0x4dc4('0x2d')]=new _0x4a9fef(this[_0x4dc4('0x15')]),this['_scrollableEditingRootDomAncestor']=null,this['_resizeObserver']=null,this['k']=this[_0x4dc4('0x15')][_0x4dc4('0xb')]['get']('PaginationLookup'),this['bind'](_0x4dc4('0x24'))['to'](this[_0x4dc4('0x15')][_0x4dc4('0xb')][_0x4dc4('0x25')]('PaginationEditing')),this[_0x4dc4('0x15')]['ui'][_0x4dc4('0x21')](_0x4dc4('0x27'),()=>this['u']()),this['on'](_0x4dc4('0x17'),(_0x24819b,_0x3e8391,_0x3d0a54)=>{_0x3d0a54||this[_0x4dc4('0x2d')]['cleanLines'](),this['_'](_0x3d0a54);});}[_0x4dc4('0xc')](){this[_0x4dc4('0x2d')][_0x4dc4('0xc')](),this['_scrollableEditingRootDomAncestor']=null,this['_resizeObserver'][_0x4dc4('0xc')]();}[_0x4dc4('0x22')](_0x56571b){if(!this[_0x4dc4('0x24')])return;const _0xbfbeb6=_0x56571b>0x1?this['_getPageBreakLineOffset'](_0x56571b-0x1):0x0;this[_0x4dc4('0xe')]['scrollTo']({'top':_0xbfbeb6-0xa,'left':this['_scrollableEditingRootDomAncestor'][_0x4dc4('0x0')],'behavior':_0x4dc4('0x12')});}['u'](){const _0x477d05=this['editor'],_0x58d6fd=_0x477d05[_0x4dc4('0x10')]['view'][_0x4dc4('0x2b')]();this['_scrollableEditingRootDomAncestor']=function(_0x5d021e){let _0x2eaaf4=_0x5d021e;do{if(_0x2eaaf4=_0x2eaaf4[_0x4dc4('0x29')],!_0x2eaaf4)return null;const _0x2efec2=_0xad5d82[_0x4dc4('0x18')][_0x4dc4('0x1c')](_0x2eaaf4)[_0x4dc4('0x19')];if(_0x4dc4('0x8')==_0x2efec2||_0x4dc4('0x7')==_0x2efec2)break;}while(_0x4dc4('0x5')!=_0x2eaaf4[_0x4dc4('0x13')]);return _0x2eaaf4;}(_0x58d6fd),this[_0x4dc4('0xe')]?(_0x477d05['ui'][_0x4dc4('0x23')][_0x4dc4('0x28')](this[_0x4dc4('0xe')],'scroll',()=>{this[_0x4dc4('0x1f')]();},{'usePassive':!0x0}),_0x477d05['ui']['view'][_0x4dc4('0x28')](_0xad5d82[_0x4dc4('0x18')],_0x4dc4('0x1b'),()=>this[_0x4dc4('0x1f')]()),this[_0x4dc4('0xd')]=new _0x30464b(this[_0x4dc4('0xe')],()=>{this[_0x4dc4('0x1f')]();}),this['listenTo'](this['k'],'change:pageBreaks',()=>this['_updatePageBreakLines']())):_0x477d05['ui']['once'](_0x4dc4('0x3'),()=>this['u']());}[_0x4dc4('0x1f')](){if(!this[_0x4dc4('0x24')])return;const _0x11cd3b=this[_0x4dc4('0x15')][_0x4dc4('0x10')][_0x4dc4('0x23')][_0x4dc4('0x2b')](),_0xea744d=new _0x3e9df0(_0x11cd3b)[_0x4dc4('0x1a')](),_0x1969ed=new _0x3e9df0(this[_0x4dc4('0xe')])['excludeScrollbarsAndBorders'](),_0x5e825d=this['k']['pageBreaks'];if(this[_0x4dc4('0x2d')]['cleanLines'](),0x1==_0x5e825d['length'])return void(this[_0x4dc4('0x1d')]=0x1);const _0x113340=_0x1969ed['top']+_0x1969ed['height']/0x3;let _0x1d3fb2=!0x1;for(let _0x1be382=0x1;_0x1be382<_0x5e825d['length'];_0x1be382++){const _0x5c23aa=this[_0x4dc4('0x1')](_0x1be382,_0x1969ed);if(!_0x5c23aa)continue;const _0x424393=_0x1969ed[_0x4dc4('0x9')]+_0x5c23aa-this[_0x4dc4('0xe')][_0x4dc4('0x2a')];this['B'](_0x424393,_0xea744d,_0x1969ed,_0x1be382),_0x424393>_0x113340&&!_0x1d3fb2&&(this[_0x4dc4('0x1d')]=_0x1be382,_0x1d3fb2=!0x0);}_0x1d3fb2||(this[_0x4dc4('0x1d')]=_0x5e825d[_0x4dc4('0x2c')]);}['B'](_0x898688,_0x4ee448,_0x1d396c,_0x2f0be1){const {scrollX:_0x54c8e9,scrollY:_0x1058d7}=_0xad5d82['window'];_0x1d396c['top']<_0x898688&&_0x898688<_0x1d396c[_0x4dc4('0x14')]&&this[_0x4dc4('0x2d')]['showLine'](_0x4ee448['left']+_0x54c8e9,_0x898688+_0x1058d7,_0x4ee448[_0x4dc4('0x20')],_0x2f0be1+0x1);}[_0x4dc4('0x1')](_0x5349b,_0x2f7be0=null){const _0x2d470f=this['k'][_0x4dc4('0x1e')][_0x5349b][_0x4dc4('0x11')];return _0x2d470f?(_0x2f7be0||(_0x2f7be0=new _0x3e9df0(this['_scrollableEditingRootDomAncestor'])['excludeScrollbarsAndBorders']()),_0x2d470f-_0x2f7be0[_0x4dc4('0x9')]+this[_0x4dc4('0xe')][_0x4dc4('0x2a')]):0x0;}['_'](_0x3d91d9){const _0x4fa311=this[_0x4dc4('0x15')][_0x4dc4('0x10')][_0x4dc4('0x23')];_0x4fa311['change'](_0x5bcb0f=>{for(const _0x496b05 of _0x4fa311[_0x4dc4('0xa')]['roots'])_0x3d91d9?_0x5bcb0f['removeClass'](_0x4dc4('0x4'),_0x496b05):_0x5bcb0f[_0x4dc4('0x16')](_0x4dc4('0x4'),_0x496b05);});}}